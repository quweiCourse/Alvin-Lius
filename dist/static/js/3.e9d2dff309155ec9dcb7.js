webpackJsonp([3],{"/dL4":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-drr-container",class:{"z-draggable":t.draggable,"z-resizable":t.resizable,"z-rotatable":t.rotatable,"z-active":t.enabled,"z-dragging":t.dragging,"z-resizing":t.resizing,"z-rotating":t.rotating},style:t.style,on:{mousedown:function(e){e.stopPropagation(),t.elmDown(e)}}},[t._t("default"),t._v(" "),t.rotatable?i("div",{staticClass:"z-rotateable-handle",style:{display:t.enabled?"block":"none"},on:{mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.rotating=!0}}}):t._e(),t._v(" "),t._l(t.handles,function(e){return t.resizable?i("div",{staticClass:"z-resizeable-handle",class:"z-handle-"+e,style:{display:t.enabled?"block":"none"},on:{mousedown:function(i){i.stopPropagation(),i.preventDefault(),t.handleResizeStart(e,i)}}}):t._e()})],2)},s=[],a={render:n,staticRenderFns:s};e.a=a},"43YI":function(t,e,i){"use strict";e.a={name:"vue-drr",props:{active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},w:{type:Number,default:200,validator:function(t){return t>0}},h:{type:Number,default:200,validator:function(t){return t>0}},minw:{type:Number,default:50,validator:function(t){return t>0}},minh:{type:Number,default:50,validator:function(t){return t>0}},angle:{type:Number,default:0,validator:function(t){return"number"==typeof t}},x:{type:Number,default:0,validator:function(t){return"number"==typeof t}},y:{type:Number,default:0,validator:function(t){return"number"==typeof t}},handles:{type:Array,default:function(){return["n","e","s","w","nw","ne","se","sw"]}},axis:{type:String,default:"both",validator:function(t){return-1!==["x","y","both"].indexOf(t)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1}},created:function(){this.parentX=0,this.parentW=9999,this.parentY=0,this.parentH=9999,this.lastMouseX=0,this.lastMouseY=0,this.mouseOffX=0,this.mouseOffY=0,this.elmX=0,this.elmY=0,this.elmW=0,this.elmH=0},mounted:function(){document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mousedown",this.deselect,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0),this.elmX=parseInt(this.$el.style.left),this.elmY=parseInt(this.$el.style.top),this.elmW=this.$el.offsetWidth||this.$el.clientWidth,this.elmH=this.$el.offsetHeight||this.$el.clientHeight,this.reviewDimensions()},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mousedown",this.deselect,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0)},data:function(){return{top:this.y,left:this.x,width:this.w,height:this.h,rotateAngle:this.angle,resizing:!1,dragging:!1,rotating:!1,enabled:this.active,handle:null}},methods:{reviewDimensions:function(){if(this.minw>this.w&&(this.width=this.minw),this.minh>this.h&&(this.height=this.minh),this.parent){var t=parseInt(this.$el.parentNode.clientWidth,10),e=parseInt(this.$el.parentNode.clientHeight,10);this.parentW=t,this.parentH=e,this.w>t&&(this.width=t),this.h>e&&(this.height=e),this.x+this.w>t&&(this.width=t-this.x),this.y+this.h>e&&(this.height=e-this.y),this.elmW=this.width,this.elmH=this.height}},elmDown:function(t){var e=t.target||t.srcElement;this.$el.contains(e)&&(this.reviewDimensions(),this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0))},deselect:function(t){this.$el.contains(t.target)&&t.preventDefault(),this.lastMouseX=t.pageX||t.clientX+document.documentElement.scrollLeft,this.lastMouseY=t.pageY||t.clientY+document.documentElement.scrollTop;var e=t.target||t.srcElement,i=new RegExp("z-handle-([nesw]{1, 2})","");this.$el.contains(e)||i.test(e.className)||this.enabled&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1))},handleResizeStart:function(t,e){this.handle=t,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.resizing=!0},getOrigin:function(){var t=this.$el.getBoundingClientRect();return{x:(t.left+t.right)/2,y:(t.bottom+t.top)/2}},handleMove:function(t){var e=this.lastMouseX,i=this.lastMouseY,n=t.pageX||t.clientX+document.documentElement.scrollLeft,s=t.pageY||t.clientY+document.documentElement.scrollTop,a=n-this.lastMouseX+this.mouseOffX,r=s-this.lastMouseY+this.mouseOffY;this.mouseOffX=this.mouseOffY=0,this.lastMouseX=n,this.lastMouseY=s;var o=a,h=r;if(this.resizing)this.handle.indexOf("n")>=0&&(this.elmH-h<this.minh?r=this.elmH-this.minh:this.elmY+h<this.parentY&&(r=this.parentY-this.elmY),this.mouseOffY=h-r,this.elmY+=r,this.elmH-=r),this.handle.indexOf("s")>=0&&(this.elmH+h<this.minh?r=this.minh-this.elmH:this.elmY+this.elmH+h>this.parentH&&(r=this.parentH-this.elmY-this.elmH),this.mouseOffY=h-r,this.elmH+=r),this.handle.indexOf("w")>=0&&(this.elmW-o<this.minw?a=this.elmW-this.minw:this.elmX+o<this.parentX&&(a=this.parentX-this.elmX),this.mouseOffX=o-a,this.elmX+=a,this.elmW-=a),this.handle.indexOf("e")>=0&&(this.elmW+o<this.minw?a=this.minw-this.elmW:this.elmX+this.elmW+o>this.parentW&&(a=this.parentW-this.elmX-this.elmW),this.mouseOffX=o-a,this.elmW+=a),this.left=Math.round(this.elmX/this.grid[0])*this.grid[0],this.top=Math.round(this.elmY/this.grid[1])*this.grid[1],this.width=Math.round(this.elmW/this.grid[0])*this.grid[0],this.height=Math.round(this.elmH/this.grid[1])*this.grid[1],this.$emit("resizing",this.left,this.top,this.width,this.height);else if(this.dragging)this.parent&&(this.elmX+o<0?a=-this.elmX:this.elmX+this.elmW+o>this.parentW&&(a=this.parentW-this.elmX-this.elmW),this.elmY+h<0?r=-this.elmY:this.elmY+this.elmH+h>this.parentH&&(r=this.parentH-this.elmY-this.elmH),this.mouseOffX=o-a,this.mouseOffY=h-r),this.elmX+=a,this.elmY+=r,"x"!==this.axis&&"both"!==this.axis||(this.left=Math.round(this.elmX/this.grid[0])*this.grid[0]),"y"!==this.axis&&"both"!==this.axis||(this.top=Math.round(this.elmY/this.grid[1])*this.grid[1]),this.$emit("dragging",this.left,this.top);else if(this.rotating){var l=this.getOrigin(),A=Math.atan2(i-l.y,e-l.x),d=Math.atan2(s-l.y,n-l.x);this.rotateAngle+=Math.round(180*(d-A)/Math.PI),this.$emit("rotating",this.rotateAngle)}},handleUp:function(t){this.handle=null,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),this.rotating&&(this.rotating=!1,this.$emit("rotatestop",this.rotateAngle)),this.elmX=this.left,this.elmY=this.top}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",transform:"rotate("+this.rotateAngle+"deg)"}}},watch:{active:function(t){this.enabled=t}}}},Ctkn:function(t,e,i){var n=i("PDvL");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("8bSs")("39b1ecf2",n,!0)},PDvL:function(t,e,i){e=t.exports=i("BkJT")(!0),e.push([t.i,".z-drr-container{position:absolute}.z-drr-container *,.z-drr-container :after,.z-drr-container :before{padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box}.z-draggable:hover{cursor:move}.z-rotateable-handle{position:absolute;left:50%;top:-36px;width:1px;height:36px;margin-left:-.5px;background-color:#32a6d0;cursor:url("+i("cjHo")+') 8 8,default}.z-rotateable-handle:after{content:" ";top:0;left:0;margin-left:-5.5px;position:absolute;width:12px;height:12px;border:1px solid #32a6d0;border-radius:50%;background:#32a6d0}.z-resizeable-handle{display:none;position:absolute}.z-handle-ne,.z-handle-nw,.z-handle-se,.z-handle-sw{position:absolute;width:12px;height:12px;border:1px solid #32a6d0;border-radius:50%;background:#fff}.z-handle-nw{top:-6px;left:-6px;cursor:nw-resize}.z-handle-ne{top:-6px;right:-6px;cursor:ne-resize}.z-handle-sw{bottom:-6px;left:-6px;cursor:sw-resize}.z-handle-se{bottom:-6px;right:-6px;cursor:se-resize}.z-handle-e:after,.z-handle-n:after,.z-handle-s:after,.z-handle-w:after{content:" ";position:absolute;width:12px;height:12px;border:1px solid #32a6d0;border-radius:50%;background:#fff}.z-handle-n{top:0;left:0;width:100%;height:6px;border-top:1px solid #32a6d0;cursor:n-resize}.z-handle-n:after{bottom:0;left:50%;margin-left:-6px}.z-handle-w{top:0;left:0;width:6px;height:100%;border-left:1px solid #32a6d0;cursor:w-resize}.z-handle-w:after{top:50%;right:0;margin-top:-6px}.z-handle-e{top:0;right:0;width:6px;height:100%;border-right:1px solid #32a6d0;cursor:e-resize}.z-handle-e:after{top:50%;left:0;margin-top:-6px}.z-handle-s{bottom:0;left:0;width:100%;height:6px;border-bottom:1px solid #32a6d0;cursor:s-resize}.z-handle-s:after{top:0;left:50%;margin-left:-6px}.z-active{z-index:999}',"",{version:3,sources:["C:/github/h5editor/src/libs/vue-drr.vue"],names:[],mappings:"AACA,iBACE,iBAAmB,CACpB,AACD,oEACI,UAAW,AACX,SAAU,AACV,8BAA+B,AACvB,sBAAuB,AAC/B,0BAA4B,CAC/B,AACD,mBACE,WAAa,CACd,AACD,qBACE,kBAAmB,AACnB,SAAU,AACV,UAAW,AACX,UAAW,AACX,YAAa,AACb,kBAAmB,AACnB,yBAA0B,AAC1B,gDAAoD,CACrD,AACD,2BACI,YAAa,AACb,MAAO,AACP,OAAQ,AACR,mBAAoB,AACpB,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,yBAA0B,AAC1B,kBAAmB,AACnB,kBAAoB,CACvB,AACD,qBACE,aAAc,AACd,iBAAmB,CACpB,AACD,oDAIE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,yBAA0B,AAC1B,kBAAmB,AACnB,eAAiB,CAClB,AACD,aACE,SAAU,AACV,UAAW,AACX,gBAAkB,CACnB,AACD,aACE,SAAU,AACV,WAAY,AACZ,gBAAkB,CACnB,AACD,aACE,YAAa,AACb,UAAW,AACX,gBAAkB,CACnB,AACD,aACE,YAAa,AACb,WAAY,AACZ,gBAAkB,CACnB,AACD,wEAIE,YAAa,AACb,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,yBAA0B,AAC1B,kBAAmB,AACnB,eAAiB,CAClB,AACD,YACE,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,WAAY,AACZ,6BAA8B,AAC9B,eAAiB,CAClB,AACD,kBACI,SAAU,AACV,SAAU,AACV,gBAAkB,CACrB,AACD,YACE,MAAO,AACP,OAAQ,AACR,UAAW,AACX,YAAa,AACb,8BAA+B,AAC/B,eAAiB,CAClB,AACD,kBACI,QAAS,AACT,QAAS,AACT,eAAiB,CACpB,AACD,YACE,MAAO,AACP,QAAS,AACT,UAAW,AACX,YAAa,AACb,+BAAgC,AAChC,eAAiB,CAClB,AACD,kBACI,QAAS,AACT,OAAQ,AACR,eAAiB,CACpB,AACD,YACE,SAAU,AACV,OAAQ,AACR,WAAY,AACZ,WAAY,AACZ,gCAAiC,AACjC,eAAiB,CAClB,AACD,kBACI,MAAO,AACP,SAAU,AACV,gBAAkB,CACrB,AACD,UACE,WAAa,CACd",file:"vue-drr.vue",sourcesContent:["\n.z-drr-container {\n  position: absolute;\n}\n.z-drr-container *, .z-drr-container *:before, .z-drr-container *:after {\n    padding: 0;\n    margin: 0;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n    -moz-box-sizing: border-box;\n}\n.z-draggable:hover {\n  cursor: move;\n}\n.z-rotateable-handle {\n  position: absolute;\n  left: 50%;\n  top: -36px;\n  width: 1px;\n  height: 36px;\n  margin-left: -.5px;\n  background-color: #32a6d0;\n  cursor: url(../assets/mouserotate.png) 8 8, default;\n}\n.z-rotateable-handle:after {\n    content: ' ';\n    top: 0;\n    left: 0;\n    margin-left: -5.5px;\n    position: absolute;\n    width: 12px;\n    height: 12px;\n    border: 1px solid #32a6d0;\n    border-radius: 50%;\n    background: #32a6d0;\n}\n.z-resizeable-handle {\n  display: none;\n  position: absolute;\n}\n.z-handle-nw,\n.z-handle-ne,\n.z-handle-sw,\n.z-handle-se {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  border: 1px solid #32a6d0;\n  border-radius: 50%;\n  background: #fff;\n}\n.z-handle-nw {\n  top: -6px;\n  left: -6px;\n  cursor: nw-resize;\n}\n.z-handle-ne {\n  top: -6px;\n  right: -6px;\n  cursor: ne-resize;\n}\n.z-handle-sw {\n  bottom: -6px;\n  left: -6px;\n  cursor: sw-resize;\n}\n.z-handle-se {\n  bottom: -6px;\n  right: -6px;\n  cursor: se-resize;\n}\n.z-handle-n:after,\n.z-handle-w:after,\n.z-handle-e:after,\n.z-handle-s:after {\n  content: ' ';\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  border: 1px solid #32a6d0;\n  border-radius: 50%;\n  background: #fff;\n}\n.z-handle-n {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 6px;\n  border-top: 1px solid #32a6d0;\n  cursor: n-resize;\n}\n.z-handle-n:after {\n    bottom: 0;\n    left: 50%;\n    margin-left: -6px;\n}\n.z-handle-w {\n  top: 0;\n  left: 0;\n  width: 6px;\n  height: 100%;\n  border-left: 1px solid #32a6d0;\n  cursor: w-resize;\n}\n.z-handle-w:after {\n    top: 50%;\n    right: 0;\n    margin-top: -6px;\n}\n.z-handle-e {\n  top: 0;\n  right: 0;\n  width: 6px;\n  height: 100%;\n  border-right: 1px solid #32a6d0;\n  cursor: e-resize;\n}\n.z-handle-e:after {\n    top: 50%;\n    left: 0;\n    margin-top: -6px;\n}\n.z-handle-s {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 6px;\n  border-bottom: 1px solid #32a6d0;\n  cursor: s-resize;\n}\n.z-handle-s:after {\n    top: 0;\n    left: 50%;\n    margin-left: -6px;\n}\n.z-active {\n  z-index: 999;\n}\n"],sourceRoot:""}])},"QJ/V":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},t._l(t.pages,function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.id===t.curPageId,expression:"page.id === curPageId"}],key:e.id,staticClass:"comp-lists",style:t._f("calcStyle")(e.css)},[i("div",{staticClass:"wrap-bg",style:{backgroundColor:e.css.bgc,backgroundImage:"url("+e.css.bgi+")"}}),t._v(" "),t._l(e.comps,function(e){return i("VueDRR",{key:e.id,attrs:{w:e.css.w,h:e.css.h,y:e.css.t,x:e.css.l,minw:10,minh:10,angle:e.css.rotate},on:{activated:function(i){t.toggleCompid(e.id)},dragging:t.handleDragging,resizing:t.handleResizing,rotating:t.handleRotating}},[i("CompLists",{staticClass:"comp",attrs:{compid:e.id,name:e.name},on:{click:function(i){t.handleClick(e)},dblclick:t.handleDblclick}})],1)})],2)}))},s=[],a={render:n,staticRenderFns:s};e.a=a},Tb5u:function(t,e,i){"use strict";function n(t){i("Ctkn")}var s=i("43YI"),a=i("/dL4"),r=i("8AGX"),o=n,h=r(s.a,a.a,!1,o,null,null);e.a=h.exports},bCJD:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("kc3o"),s=i("QJ/V"),a=i("8AGX"),r=a(n.a,s.a,!1,null,null,null);e.default=r.exports},cjHo:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABWUlEQVQ4T6WT0U3DQAyGf/sGoBuQDcjp7p2wQTsBbNCOABMAE5BuwAjpe09XJqAjlAFyRq5yIUkRKuCXSIn92f79h/DPoGl9jLFIKS0BzAEU+l1EdgBqY8zaWnvQnLZtS+/96wgQQrgD8PLDUHsADwAeAbw556oeMCwWkQ8iqpn5NaVUikhJRLcT8KYHdGO/dwkbZp7rqMOCEMKq65xffwFCCE8AltrZGFNMi7sGEcBsAB0BdLdLAM/OOe00ihhjlVK6n7yunXP1UYMQguiTmW+stc1vLjsCiMhCT/MXgN75SkTW3ns95dmRJ+gVZmZrrVXgSWy327kxphmKfATEGGcpJS1SIQ/MvJhqkc+orvTe20zvjRRjLNu2bYjoItuXiBoRKYiozLZWBzJzlacYWVkhKSX1xPV3K6hGxpjVyQrTZN2161qJyJ6Idmpra636ZRQnf+PZ8neJn9q+rxFGGvPWAAAAAElFTkSuQmCC"},kc3o:function(t,e,i){"use strict";var n=i("Tb5u"),s=i("bGai");e.a={name:"TheContainer",computed:{pages:function(){return this.$store.getters.pages},curPageId:function(){return this.$store.getters.curPageId}},methods:{handleClick:function(t){this.$store.commit("OPEN_PROPS_PANEL",{name:t.name+"Config",id:t.id})},handleDblclick:function(t){var e=this;"Image"===t&&this.$store.commit("SET_PICK_IMG",{status:!0,callback:function(t){e.$store.commit("EDIT_COMP",{type:"props",value:{src:t.url}})}})},toggleCompid:function(t){this.$store.commit("TOGGLE_COMP",t)},updateStyle:function(t){this.$store.commit("EDIT_COMP",{type:"css",value:t})},handleResizing:function(t,e,i,n){this.updateStyle({t:e,l:t,w:i,h:n})},handleDragging:function(t,e){this.updateStyle({t:e,l:t})},handleRotating:function(t){this.updateStyle({rotate:t})}},components:{VueDRR:n.a,CompLists:{props:{name:{type:String,required:!0},compid:{type:[String,Number],required:!0}},render:function(t){return t(s.a["Base"+this.name],{props:{compid:this.compid},nativeOn:{click:this.clickHandler,dblclick:this.dblclickHandler}})},methods:{clickHandler:function(){this.$emit("click",this.name)},dblclickHandler:function(){this.$emit("dblclick",this.name)}}}}}}});
//# sourceMappingURL=3.e9d2dff309155ec9dcb7.js.map