webpackJsonp([6],{"++Vc":function(t,n,e){"use strict";var r=e("Ld4a"),i=e("vsnq"),a=e("X4nt"),s=a(r.a,i.a,!1,null,null,null);n.a=s.exports},"0xDb":function(t,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return c});var r=e("Yarq"),i=(e.n(r),e("hRKE")),a=e.n(i),s=function t(n){if("object"===(void 0===n?"undefined":a()(n))){var e=n instanceof Array?[]:{};for(var r in n)n.hasOwnProperty(r)&&(e[r]="object"===a()(n[r])?t(n[r]):n[r]);return e}},c={set:function(t,n){localStorage.setItem(t,n)},get:function(t){localStorage.getItem(t)},remove:function(t){localStorage.removeItem(t)}}},"2BAi":function(t,n){},"3daJ":function(t,n){},"4anv":function(t,n,e){"use strict";n.a={id:1,title:"文字",name:"cText",type:1,anim:{type:1,duration:1,delay:.4},props:{text:"这是文字"},css:{t:100,l:100,w:100,h:30,lh:30,rotate:0,bgc:"#fff",bd:{w:1,t:1,c:"#fff"},ft:{s:1,t:1,h:"",c:"#333"},br:5}}},"5reh":function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"e",function(){return i}),e.d(n,"j",function(){return a}),e.d(n,"c",function(){return s}),e.d(n,"h",function(){return c}),e.d(n,"k",function(){return o}),e.d(n,"b",function(){return u}),e.d(n,"g",function(){return l}),e.d(n,"d",function(){return f}),e.d(n,"i",function(){return d}),e.d(n,"f",function(){return p});var r="ADD_COMP",i="EDIT_COMP",a="TOGGLE_COMP",s="ADD_PAGE",c="REMOVE_PAGE",o="TOGGLE_PAGE",u="ADD_COMP_TO_PAGES",l="OPEN_PROPS_PANEL",f="CLOSE_PROPS_PANEL",d="SET_PICK_IMG",p="INIT_USER_DATA"},"8J8o":function(t,n,e){"use strict";n.a={name:"cImage",props:{compid:{type:[String,Number],required:!0}},computed:{cm:function(){return this.$store.getters.getCompConfigByCompid(this.compid)}}}},H3CJ:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-container",{attrs:{id:"view"}},[e("el-header",{staticClass:"s-bg-main g-hd",attrs:{height:"auto"}},[e("topbar")],1),t._v(" "),e("el-container",[e("el-aside",[e("props-panel")],1),t._v(" "),e("el-main",{attrs:{id:"workspace"}},[e("div",{staticClass:"m-simulator work-part"},[e("div",{staticClass:"wrap"},[e("container")],1)])]),t._v(" "),e("el-aside",[e("page-panel")],1),t._v(" "),e("pick-image")],1)],1)},i=[],a={render:r,staticRenderFns:i};n.a=a},HbnA:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"m-simulator",attrs:{id:"preview"}},[e("div",{staticClass:"wrap"},[e("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},t._l(t.pages,function(n){return e("swiper-slide",{key:n.id},t._l(n.comps,function(t){return e("vlist",{key:t.id,staticClass:"comp",attrs:{compid:t.id,name:t.name}})}))}))],1)])},i=[],a={render:r,staticRenderFns:i};n.a=a},IcnI:function(t,n,e){"use strict";var r,i=e("a3Yh"),a=e.n(i),s=e("aA9S"),c=e.n(s),o=e("3cXf"),u=e.n(o),l=e("VCXJ"),f=e("9rMa"),d=e("5reh"),p=e("gJCy"),m=e("RpdK"),v=e("0xDb");l.default.use(f.a);n.a=new f.a.Store({state:{versior:.21,propsPanel:{status:!1,name:"",id:""},pickImg:{status:!1,callback:null}},getters:{propsPanel:function(t){return t.propsPanel},pickImg:function(t){return t.pickImg}},actions:{getUserData:function(t){var n=t.state,e=t.commit,r=t.dispatch,i=localStorage.getItem("UserData");if(i)try{var a=JSON.parse(i);if(a.versior&&a.versior>=n.versior){var s=a.pages;e("INIT_USER_DATA",a),s&&s.lists&&s.lists.length&&e("TOGGLE_PAGE",s.lists[0].id)}else r("initH5Editor")}catch(t){r("initH5Editor"),console.error("获取数据失败:"+t.message)}else r("initH5Editor")},saveUserData:function(t){var n=t.state;v.b.set("UserData",u()({versior:n.versior,pages:{lists:n.pages.lists}}))}},mutations:(r={},a()(r,d.f,function(t,n){t.versior=n.versior,t.pages.lists=n.pages.lists,t.components.lists=n.pages.lists.reduce(function(t,n){if(n)return t.concat(n.comps)},[])}),a()(r,d.g,function(t,n){var e=n.id,r=n.name;t.propsPanel={status:!0,name:r,id:e}}),a()(r,d.d,function(t){t.propsPanel.status=!1}),a()(r,d.i,function(t,n){"boolean"==typeof n?t.pickImg.status=n:c()(t.pickImg,n)}),r),modules:{pages:p.a,components:m.a},strict:!1})},KlD6:function(t,n,e){"use strict";n.a={name:"index",components:{pagePanel:function(){return e.e(4).then(e.bind(null,"qqmI"))},topbar:function(){return e.e(3).then(e.bind(null,"lCIc"))},container:function(){return e.e(2).then(e.bind(null,"I3OW"))},propsPanel:function(){return e.e(0).then(e.bind(null,"F6rd"))},pickImage:function(){return e.e(1).then(e.bind(null,"RmMb"))}}}},L8Y5:function(t,n,e){"use strict";var r=e("KlD6"),i=e("H3CJ"),a=e("X4nt"),s=a(r.a,i.a,!1,null,null,null);n.a=s.exports},Ld4a:function(t,n,e){"use strict";n.a={name:"cText",props:{compid:{type:[String,Number],required:!0}},computed:{cm:function(){return this.$store.getters.getCompConfigByCompid(this.compid)},linkStyle:function(){return{ft:this.cm.css.ft}}}}},M93x:function(t,n,e){"use strict";var r=e("s15m"),i=e("wn8U"),a=e("X4nt"),s=a(r.a,i.a,!1,null,null,null);n.a=s.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("briU"),i=(e.n(r),e("VCXJ")),a=e("IcnI"),s=e("mwE6"),c=e.n(s),o=e("M93x"),u=e("cU5d"),l=(e.n(u),e("3daJ")),f=(e.n(l),e("2BAi")),d=(e.n(f),e("YaEn")),p=e("hvE6"),m=(e.n(p),e("cdhV"));i.default.use(c.a),i.default.prototype.$log=console.log.bind(console),i.default.filter("calcStyle",m.a),i.default.config.productionTip=!1,new i.default({el:"#app",store:a.a,router:d.a,render:function(t){return t(o.a)}})},RpdK:function(t,n,e){"use strict";var r,i=e("a3Yh"),a=e.n(i),s=e("hRKE"),c=e.n(s),o=e("aA9S"),u=e.n(o),l=e("5reh"),f=e("fyxR"),d=e("c30k"),p=e("0xDb"),m={lists:[],curCompId:null},v={getComplistsByPageId:function(t){return function(n){return t.lists.filter(function(t){return t.parentId===n})}},curComp:function(t){return t.lists.find(function(n){return n.id===t.curCompId})},getCompConfigByCompid:function(t){return function(n){return t.lists.find(function(t){return t.id===n})}}},g={addNewComp:function(t,n){var e=t.commit,r=t.getters;Object(d.a)().then(function(t){var i=f.a[n];if(i){var a=u()(Object(p.a)(i),t,{parentId:r.curPageId});e("ADD_COMP_TO_PAGES",a),e("ADD_COMP",a)}})}},h=(r={},a()(r,l.j,function(t,n){t.curCompId=n}),a()(r,l.e,function(t,n){var e=n.type,r=n.value,i=n.compid,a=t.lists.find(function(n){return n.id===i||n.id===t.curCompId});if(a){var s=a[e];for(var o in r)void 0!==s[o]&&("object"===c()(r[o])?u()(s[o],r[o]):s[o]=r[o])}}),a()(r,l.a,function(t,n){t.lists.push(n)}),r);n.a={state:m,getters:v,actions:g,mutations:h}},YaEn:function(t,n,e){"use strict";var r=e("VCXJ"),i=e("zO6J"),a=e("L8Y5"),s=e("n3Jp");r.default.use(i.a),n.a=new i.a({routes:[{path:"/",name:"index",component:a.a},{path:"/preview",name:"preview",component:s.a}]})},bGai:function(t,n,e){"use strict";var r=e("vnuw"),i=e("++Vc");n.a={cImage:r.a,cText:i.a}},c30k:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return s});var r=e("l/JR"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Date.now().toString(t)},a=function(){return Object(r.a)({id:i()})},s=function(){return Object(r.a)({id:i(32),css:{},props:{},comps:[]})}},cU5d:function(t,n){},cdhV:function(t,n,e){"use strict";var r=e("aA9S"),i=e.n(r),a=e("hRKE"),s=e.n(a),c={w:{value:"width",unit:"px"},h:{value:"height",unit:"px"},t:{value:"top",unit:"px"},l:{value:"left",unit:"px"},lh:{value:"line-height",unit:"px"},c:"color",bgc:"background-color"},o={0:"none",1:"solid",2:"dashed",3:"dotted",4:"double"},u={1:"12px",2:"14px",3:"16px",4:"18px",5:"20px",6:"22px",7:"24px",8:"26px",9:"28px",10:"30px",11:"32px",12:"34px",13:"36px",14:"48px",15:"64px"},l={1:"微软雅黑",2:"宋体",3:"楷体",4:"仿宋",5:"黑体",6:"Arial"},f=function(t,n){var e={bd:function(){return{"border-width":n.w+"px","border-style":o[n.t],"border-color":n.c}},ft:function(){return{"font-size":u[n.s],"font-family":l[n.t],color:n.c}}};return e[t]&&e[t]()||{}};n.a=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];if(!t||"object"!==(void 0===t?"undefined":s()(t)))return"";var a={};for(var o in t){var u=c[o],l=t[o];e.includes(o)||null!==l&&void 0!==l&&(u?"object"===(void 0===u?"undefined":s()(u))?a[u.value]=l+u.unit:a[u]=l:i()(a,f(o,l)))}return a}},fyxR:function(t,n,e){"use strict";var r=e("trOa"),i=e("4anv");n.a={cImage:r.a,cText:i.a}},gJCy:function(t,n,e){"use strict";var r,i=e("a3Yh"),a=e.n(i),s=e("5reh"),c=e("c30k"),o={lists:[],curPageId:null},u={pages:function(t){return t.lists},curPageId:function(t){return t.curPageId||t.lists[0].id},curPage:function(t){return t.lists.find(function(n){return n.id===t.curPageId})||t.lists[0]}},l={initH5Editor:function(t){var n=t.dispatch,e=t.commit;n("addNewPage").then(function(t){e("TOGGLE_PAGE",t)})},addNewPage:function(t){var n=t.commit;return Object(c.b)().then(function(t){return t&&n("ADD_PAGE",t),t.id})},removePage:function(t,n){(0,t.commit)("REMOVE_PAGE",n)}},f=(r={},a()(r,s.k,function(t,n){t.curPageId=n}),a()(r,s.c,function(t,n){t.lists.push(n)}),a()(r,s.h,function(t,n){var e=t.lists.findIndex(function(t){return t.id===n});e>-1&&t.lists.splice(e,1)}),a()(r,s.b,function(t,n){var e=t.lists.find(function(n){return n.id===t.curPageId});e&&e.comps.push(n)}),r);n.a={state:o,getters:u,actions:l,mutations:f}},gzXM:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"c-image",style:t._f("calcStyle")(t.cm.css)},[e("a",{attrs:{href:"#"}},[e("img",{attrs:{src:t.cm.props.src}})])])},i=[],a={render:r,staticRenderFns:i};n.a=a},hvE6:function(t,n){},"l/JR":function(t,n,e){"use strict";var r=e("rVsN"),i=e.n(r);n.a=function(t){var n=Math.ceil(200*Math.random());return new i.a(function(e,r){setTimeout(e(t),n)})}},n3Jp:function(t,n,e){"use strict";var r=e("wxS4"),i=e("HbnA"),a=e("X4nt"),s=a(r.a,i.a,!1,null,null,null);n.a=s.exports},s15m:function(t,n,e){"use strict";n.a={name:"App",beforeCreate:function(){this.$store.dispatch("getUserData")}}},trOa:function(t,n,e){"use strict";n.a={id:1,title:"图片",name:"cImage",type:1,anim:{type:1,duration:1,delay:.4},props:{src:"./static/images/logo.png"},css:{t:0,l:0,w:200,h:200,rotate:0,bgc:"#fff",bd:{w:1,t:1,c:"#fff"},br:5}}},vnuw:function(t,n,e){"use strict";var r=e("8J8o"),i=e("gzXM"),a=e("X4nt"),s=a(r.a,i.a,!1,null,null,null);n.a=s.exports},vsnq:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"c-text",style:t._f("calcStyle")(t.cm.css)},[e("a",{style:t._f("calcStyle")(t.linkStyle),attrs:{href:"#"},domProps:{innerHTML:t._s(t.cm.props.text)}})])},i=[],a={render:r,staticRenderFns:i};n.a=a},wn8U:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],a={render:r,staticRenderFns:i};n.a=a},wxS4:function(t,n,e){"use strict";var r=e("uCHi"),i=(e.n(r),e("bGai"));n.a={name:"Preview",data:function(){return{swiperOption:{direction:"vertical"}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper},pages:function(){return this.$store.getters.pages}},components:{swiper:r.swiper,swiperSlide:r.swiperSlide,vlist:{props:{name:{type:String,required:!0},compid:{type:[String,Number],required:!0}},render:function(t){return t(i.a[this.name],{props:{compid:this.compid}})}}}}}},["NHnr"]);
//# sourceMappingURL=app.9289a812db18c9f0c471.js.map